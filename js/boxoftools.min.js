const u={Structure:["Routine"],"Ammunition Factory":["Flame Ammo","250mm","3C Rocket","4C Rocket","75mm","94.5mm","300mm","120mm","150mm"],"Coal Harvester":["Harvest Coal"],"Coal Refinery":["Basic Coke","Coke Furnace","Coal Liquefier","Advanced Coal Liquefier"],"Component Harvester":["Harvest Components","Harvest Damaged Components"],"Large Assembly Factory":["Factory Enabled","Factory Disabled"],"Light Vehicle Assembly Station":["Station Enabled","Station Disabled"],"Maintenance Tunnel":["Basic Garrison Supplies"],"Materials Factory":["Basic Construction Materials","Assembly Materials 1","Assembly Materials 2","Metal Press Bulk Construction Materials","Smelter Bulk Construction Materials","Scrap for Sandbags","Scrap for Barbed Wire"],"Metalworks Factory":["Basic Processed Construction Materials","Basic Pipe","Assembly Materials 4","Assembly Materials 3","Furnace Bulk Processed Construction Materials","Processed Construction Materials and Metal Beams","Damaged Components for Components","Steel Construction Materials","Bulk Steel Construction Materials","Assembly Materials 5"],"Oil Refinery":["Basic Petrol","Reformer Petrol","Cracking Unit Heavy Oil","Petrochemical Plant Enriched Oil"],"Oil Well":["Basic Oil","Electric Oil","Electric Oil Manual","Fracking Oil","Fracking Oil Manual"],"Power Plant":["Diesel Power","Petrol Power"],"Power Station":["Oil Power","Coal Power","Heavy Oil Power","Coke Power"],"Scrap Harvester":["Harvest Scrap"],"Stationary Crane":["Crane Enabled","Crane Disabled"],"Sulfur Harvester":["Harvest Sulfur"],"Water Pump":["Basic Water","Electric Water","Electric Water Manual"]};const l={Routine:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Flame Ammo":[0,4,0,0,0,0,0,0,-2.4,0,0,0,0,0,0,0,2.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2.4,0,0,0,0,0,0],"250mm":[0,4,0,0,0,0,0,0,-10,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-12,0,0,0,0,0,0],"3C Rocket":[0,4,0,0,0,0,0,0,-4.8,0,0,0,0,0,0,0,0,0,2.4,0,0,0,0,0,0,0,0,0,0,0,0,0,-2.4,0,0,0,0,0,0],"4C Rocket":[0,4,0,0,0,0,0,0,-4.8,0,0,0,0,0,0,0,0,0,0,2.4,0,0,0,0,0,0,0,0,0,0,0,0,-2.4,0,0,0,0,0,0],"75mm":[0,4,0,0,0,0,0,0,-4.8,0,0,0,0,0,0,0,0,0,0,0,2.4,0,0,0,0,0,0,0,0,0,0,0,-4.8,0,0,0,0,0,0],"94.5mm":[0,4,0,0,0,0,0,0,-4.8,0,0,0,0,0,0,0,0,0,0,0,0,2.4,0,0,0,0,0,0,0,0,0,0,-4.8,0,0,0,0,0,0],"300mm":[0,6,0,0,0,0,0,0,-9.6,0,0,0,0,0,0,0,0,0,0,0,0,0,2.4,0,0,0,0,0,0,0,0,0,-14.4,0,0,0,0,0,0],"120mm":[0,4,0,0,0,0,0,0,-8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,-12,0,0,0,0,0,0,0],"150mm":[0,4,0,0,0,0,0,0,-9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,-6,0,0,0,0,0,0],"Harvest Coal":[0,0,0,0,-20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,250,0,0,0,0,0,0,0,0,0,0,0,0],"Basic Coke":[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-100,90,0,0,0,0,0,0,0,0,0,0,0],"Coke Furnace":[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-100,82.5,0,0,7.5,0,0,0,0,0,0,0,0],"Coal Liquefier":[0,4,-25,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-150,0,0,0,0,0,0,0,0,0,0,.5,0],"Advanced Coal Liquefier":[0,4,-33.33,0,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-100,86.67,0,0,0,0,0,0,0,0,0,0,0],"Harvest Components":[0,0,0,0,-20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0],"Harvest Damaged Components":[0,0,0,0,-30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,0,0,0,0,0,0,0,0,0],"Factory Enabled":[0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Factory Disabled":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Station Enabled":[0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Station Disabled":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Basic Garrison Supplies":[0,2,0,0,0,0,0,0,-.27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.67,0,0,0,0,0],"Base Construction Materials":[0,2,0,0,0,0,0,0,2.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-24,0,0,0,0,0,0,0,0,0,0,0,0,0],"Assembly Materials 1":[0,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-75,0,0,0,0,0,0,0,0,0,0,0],"Assembly Materials 2":[0,2,0,0,-50,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,0,0,0,0,0,0,0,0,0,0,0,0],"Metal Press Bulk Construction Materials":[0,4,0,0,-60,0,0,0,7.2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-36,0,0,0,0,0,0,0,0,0,0,0,0,0],"Smelter Bulk Construction Materials":[0,4,0,0,0,0,0,0,7.2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-36,0,-60,0,0,0,0,0,0,0,0,0,0,0],"Scrap for Sandbags":[0,2,0,0,0,0,0,0,2.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-60,0,0,0,0,0,0,0,0,12,0,0,0,0],"Scrap for Barbed Wire":[0,2,0,0,0,0,0,0,2.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-60,0,0,0,0,0,0,0,0,0,12,0,0,0],"Basic Processed Construction Materials":[0,5,0,0,0,0,0,0,-3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-20,0,0,0,0,0,0,0,0,0,0],"Basic Pipe":[0,5,0,0,0,0,0,0,0,-1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5],"Assembly Materials 4":[0,5,0,0,0,0,-33,0,0,-.5,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Assembly Materials 3":[0,5,0,0,0,0,0,0,-1.5,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-10,0,0,0,0,0,0,0,0],"Furnace Bulk Processed Construction Materials":[0,8,0,0,0,0,-6,0,-3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-55,0,0,0,0,0,0,0,0,0,0],"Processed Construction Materials and Metal Beams":[0,5,0,0,0,0,0,0,-3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-20,0,0,0,0,0,0,0,1,0,0],"Damaged Components for Components":[0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13.33,-20,0,0,0,0,0,0,0,0,0],"Steel Construction Materials":[0,9,0,0,0,0,-23.33,0,0,-2,.67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-133.33,0,0,-43.33,0,0,0,0,0,0,0,0],"Bulk Steel Construction Materials":[0,12,-66.67,0,0,0,0,-60,0,-6,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-250,0,0,0,0,0,0,0,0,0,0,0],"Assembly Materials 5":[0,8,0,0,0,0,0,0,0,0,-1.5,-5,-5,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,-122.5,0,0,0,0,0,0,0,0,0,0,0],"Basic Petrol":[0,1,0,-60,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Reformer Petrol":[0,1,-12,-48,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Cracking Unit Heavy Oil":[0,1.5,0,-56.25,0,0,33.75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Petrochemical Plant Enriched Oil":[0,6,0,0,0,0,-9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-18,0,0,0,0,0,0,0,0],"Basic Oil":[0,0,0,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Electric Oil":[0,2,0,112.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Electric Oil Manual":[0,2,0,115.38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Fracking Oil":[0,3,-37.5,150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Fracking Oil Manual":[0,3,-50,150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Diesel Power":[5,0,0,0,0,-33.33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Petrol Power":[12,0,0,0,-33.33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Oil Power":[10,0,0,-33.33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Coal Power":[10,0,-16.67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-40,0,0,0,0,0,0,0,0,0,0,0,0],"Heavy Oil Power":[16,0,0,0,0,0,-25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.5,0,0,0,0,0,0,0,0],"Coke Power":[16,0,-12.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-30,0,0,2.5,0,0,0,0,0,0,0,0],"Harvest Scrap":[0,0,0,0,-20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,250,0,0,0,0,0,0,0,0,0,0,0,0,0],"Crane Enabled":[0,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Crane Disabled":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Harvest Sulfur":[0,0,0,0,0,0,-20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0],"Basic Water":[0,0,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Electric Water":[0,.5,72,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Electric Water Manual":[0,.5,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};window.onload=t();window.onload=t();function m(e){const t=document.createElement("td");e.appendChild(t);return t}function e(e){const t=e.parentNode.parentNode;const a=t.parentNode;a.removeChild(t);C()}function d(t,e){return e.findIndex(function(e){return e.id==t})}function t(){let e=document.createElement("tr");let t=m(e);let a=document.createElement("select");a.setAttribute("id","id"+Math.random().toString(16).slice(2));a.setAttribute("class","form-select");a.setAttribute("aria-label","Structure Selection Field");a.addEventListener("change",function(e){let t=document.querySelector("#structuretable").querySelectorAll("select");let a=Array.from(t);let r=document.getElementById(a.at(d(e.target.id,a)+1).getAttribute("id"));r.length=1;C();let l=u[e.target.value];for(let e=0;e<l.length;e++){r.options[r.options.length]=new Option(l[e],l[e])}});for(let e in u){a.options[a.options.length]=new Option(e,e);t.appendChild(a)}let r=m(e);let l=document.createElement("select");l.setAttribute("id","id"+Math.random().toString(16).slice(2));l.setAttribute("class","form-select");l.setAttribute("aria-label","Routine Selection Field");l.addEventListener("change",C);let n=u[a.value];for(let e=0;e<n.length;e++){l.options[l.options.length]=new Option(n[e],n[e]);r.appendChild(l)}let o=m(e);let i=document.createElement("button");i.setAttribute("class","btn btn-danger");i.setAttribute("type","button");i.setAttribute("value","Remove Structure");i.setAttribute("aria-label","Delete Row");i.setAttribute("onClick","deleteStructure(this)");i.insertAdjacentHTML("afterbegin",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16"><path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/></svg>');o.appendChild(i);let s=document.getElementById("structuretable");let c=s.querySelector("tbody")||s;c.appendChild(e)}function n(e,t){let a=document.getElementById(e);a.innerHTML=t}function o(e){let t=parseFloat(e);return Math.min(Math.max(t,0),30)}function i(e){let t=Math.round(e*100)/100;return t}function C(){let t=Array(39).fill(0);let a=Array.from(document.querySelector("#structuretable").querySelectorAll("select"));let r=[];for(let e=0;e<a.length;e++){if(e%2!==0){r.push(a[e].options[a[e].selectedIndex].text)}}for(let e=0;e<r.length;e++){let a=l[r[e]];t=t.map(function(e,t){return e+a[t]})}n("PowerGen",o(t[0]));n("PowerCon",t[1]);n("PowerFree",o(t[0]-t[1]));n("fWater",i(t[2]));n("fOil",i(t[3]));n("fPetrol",i(t[4]));n("fDiesel",i(t[5]));n("fHOil",i(t[6]));n("fEOil",i(t[7]));n("cMats",i(t[8]));n("pCMats",i(t[9]));n("sCMats",i(t[10]));n("asMat1",i(t[11]));n("asMat2",i(t[12]));n("asMat3",i(t[13]));n("asMat4",i(t[14]));n("asMat5",i(t[15]));n("aflame",i(t[16]));n("a250",i(t[17]));n("a3c",i(t[18]));n("a4c",i(t[19]));n("a75",i(t[20]));n("a945",i(t[21]));n("a300",i(t[22]));n("a120",i(t[23]));n("a150",i(t[24]));n("rScrap",i(t[25]));n("rCoal",i(t[26]));n("rCoke",i(t[27]));n("rComp",i(t[28]));n("rDComp",i(t[29]));n("rSulfur",i(t[30]));n("rEMat",i(t[31]));n("rHEMat",i(t[32]));n("mGsupp",i(t[33]));n("mSand",i(t[34]));n("mBarb",i(t[35]));n("mMBeam",i(t[36]));n("mConc",i(t[37]));n("mPipe",i(t[38]))}